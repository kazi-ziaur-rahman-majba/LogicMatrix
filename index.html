<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Email Template Builder - Advanced</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="app-shell">
      <!-- Left: Dark sidebar for adding blocks -->
      <aside class="sidebar" aria-label="Blocks sidebar">
        <div class="sidebar-header">
          <div class="sidebar-title">Blocks</div>
        </div>
        
        <!-- Predefined Content Blocks -->
        <div class="sidebar-section">
          <div class="sidebar-section-title">Predefined</div>
          <div class="sidebar-blocks">
            <button class="sidebar-block-btn" type="button" data-block-type="header">
              <span class="sidebar-block-btn-icon">H</span>
              <span>Header</span>
            </button>
            <button class="sidebar-block-btn" type="button" data-block-type="hero">
              <span class="sidebar-block-btn-icon">â˜…</span>
              <span>Hero</span>
            </button>
            <button class="sidebar-block-btn" type="button" data-block-type="cta">
              <span class="sidebar-block-btn-icon">CTA</span>
              <span>CTA Section</span>
            </button>
            <button class="sidebar-block-btn" type="button" data-block-type="footer">
              <span class="sidebar-block-btn-icon">F</span>
              <span>Footer</span>
            </button>
          </div>
        </div>

        <!-- Basic Content Blocks -->
        <div class="sidebar-section">
          <div class="sidebar-section-title">Content</div>
          <div class="sidebar-blocks">
            <button class="sidebar-block-btn" type="button" data-block-type="title">
              <span class="sidebar-block-btn-icon">T</span>
              <span>Title</span>
            </button>
            <button class="sidebar-block-btn" type="button" data-block-type="subtitle">
              <span class="sidebar-block-btn-icon">S</span>
              <span>Subtitle</span>
            </button>
            <button class="sidebar-block-btn" type="button" data-block-type="paragraph">
              <span class="sidebar-block-btn-icon">Â¶</span>
              <span>Paragraph</span>
            </button>
            <button class="sidebar-block-btn" type="button" data-block-type="image">
              <span class="sidebar-block-btn-icon">ðŸ–¼</span>
              <span>Image</span>
            </button>
            <button class="sidebar-block-btn" type="button" data-block-type="button">
              <span class="sidebar-block-btn-icon">â—Ž</span>
              <span>Button</span>
            </button>
          </div>
        </div>

        <!-- Layout Blocks -->
        <div class="sidebar-section">
          <div class="sidebar-section-title">Layout</div>
          <div class="sidebar-blocks">
            <button class="sidebar-block-btn" type="button" data-block-type="section">
              <span class="sidebar-block-btn-icon">â–¦</span>
              <span>Section</span>
            </button>
            <button class="sidebar-block-btn" type="button" data-block-type="two-column">
              <span class="sidebar-block-btn-icon">â–¥</span>
              <span>2 Columns</span>
            </button>
          </div>
        </div>

        <div class="sidebar-footer">
          <div><strong>Email Builder</strong></div>
          <div>Drag blocks to reorder</div>
        </div>
      </aside>

      <!-- Center: Editor / live preview area -->
      <main class="editor" aria-label="Email editor">
        <header class="editor-header">
          <div class="editor-title">Email Template Builder</div>
          <div class="editor-actions">
            <button id="btnUndo" class="btn btn-ghost" type="button" title="Undo">â†¶</button>
            <button id="btnRedo" class="btn btn-ghost" type="button" title="Redo">â†·</button>
            <button id="btnCodeView" class="btn btn-ghost" type="button">Code View</button>
            <button id="btnExportHtml" class="btn btn-primary" type="button">Export HTML</button>
            <button id="btnSaveTemplate" class="btn btn-ghost" type="button">Save Template</button>
            <button id="btnClear" class="btn btn-ghost" type="button">Clear</button>
          </div>
        </header>

        <!-- Code Editor View (hidden by default) -->
        <div id="codeEditorView" class="code-editor-view" style="display: none;">
          <div class="code-editor-header">
            <span>HTML Code Editor</span>
            <button id="btnCloseCodeView" class="btn btn-ghost" type="button">Close</button>
          </div>
          <textarea id="htmlCodeEditor" class="html-code-editor"></textarea>
          <div class="code-editor-actions">
            <button id="btnApplyCode" class="btn btn-primary" type="button">Apply Changes</button>
            <button id="btnResetCode" class="btn btn-ghost" type="button">Reset</button>
          </div>
        </div>

        <!-- Canvas View -->
        <section class="canvas-wrap" aria-label="Email preview canvas">
          <div class="canvas-inner">
            <div class="email-frame">
              <div class="email-body">
                <div id="canvas"></div>
                <div id="emptyState" class="empty-state">
                  Start by adding a block from the left sidebar. You can drag blocks to reorder them.
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Auto-save indicator -->
        <div id="autoSaveIndicator" class="auto-save-indicator">Saved</div>
      </main>

      <!-- Right: Settings panel for selected element -->
      <aside class="settings-panel" aria-label="Block settings">
        <div class="settings-header">
          <div>
            <div class="settings-title">Block Settings</div>
            <div class="settings-subtitle" id="settingsSubtitle">
              Select a block to edit its properties.
            </div>
          </div>
        </div>
        <div id="settingsContent" class="settings-content">
          <div class="settings-empty">
            No block selected. Click any block in the email preview to edit its content and style.
          </div>
        </div>
      </aside>
    </div>

    <!-- Image Library Modal -->
    <div id="imageLibraryModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Image Library</h3>
          <button class="modal-close" type="button">&times;</button>
        </div>
        <div class="modal-body">
          <div class="image-upload-area">
            <input type="file" id="imageUploadInput" accept="image/*" multiple style="display: none;">
            <button id="btnUploadImage" class="btn btn-primary" type="button">Upload Images</button>
            <input type="url" id="imageUrlInput" class="form-control" placeholder="Or enter image URL">
            <button id="btnAddUrlImage" class="btn btn-ghost" type="button">Add from URL</button>
          </div>
          <div id="imageLibraryGrid" class="image-library-grid"></div>
        </div>
      </div>
    </div>

    <!-- Template Save Modal -->
    <div id="templateSaveModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Save Template</h3>
          <button class="modal-close" type="button">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>Template Name</label>
            <input type="text" id="templateNameInput" class="form-control" placeholder="My Email Template">
          </div>
          <div id="savedTemplatesList" class="saved-templates-list"></div>
        </div>
        <div class="modal-footer">
          <button id="btnConfirmSave" class="btn btn-primary" type="button">Save</button>
          <button class="btn btn-ghost modal-close" type="button">Cancel</button>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
